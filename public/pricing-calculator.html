<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BYOC Savings Calculator - SiloWorker vs Zapier Pricing</title>
    <meta name="description" content="Calculate your savings with SiloWorker's BYOC pricing vs Zapier. See real-time cost comparison for automation workflows with your own SendGrid and Twilio keys.">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; margin: 0; padding: 20px; max-width: 1000px; margin: 0 auto; background: #f8fafc; }
        .header { text-align: center; margin-bottom: 40px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 20px; border-radius: 12px; }
        .calculator { background: white; border-radius: 12px; padding: 30px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); margin: 30px 0; }
        .slider-group { margin: 25px 0; }
        .slider-label { font-weight: 600; margin-bottom: 10px; display: block; color: #374151; }
        .slider { width: 100%; height: 8px; border-radius: 5px; background: #e5e7eb; outline: none; -webkit-appearance: none; }
        .slider::-webkit-slider-thumb { appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #3b82f6; cursor: pointer; }
        .slider::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #3b82f6; cursor: pointer; border: none; }
        .slider-value { font-size: 18px; font-weight: 600; color: #1f2937; margin-top: 5px; }
        .comparison { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin: 40px 0; }
        .pricing-card { padding: 25px; border-radius: 12px; text-align: center; }
        .zapier-card { background: #fef2f2; border: 2px solid #fca5a5; }
        .siloworker-card { background: #f0fdf4; border: 2px solid #86efac; }
        .price { font-size: 2.5em; font-weight: 700; margin: 15px 0; }
        .zapier-price { color: #dc2626; }
        .siloworker-price { color: #059669; }
        .savings { background: #dcfce7; border: 2px solid #16a34a; border-radius: 12px; padding: 25px; text-align: center; margin: 30px 0; }
        .savings-amount { font-size: 2em; font-weight: 700; color: #15803d; }
        .breakdown { background: #f9fafb; border-radius: 8px; padding: 15px; margin: 15px 0; font-size: 14px; }
        .share-btn { background: #3b82f6; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; margin: 10px 5px; }
        .share-btn:hover { background: #2563eb; }
        .byoc-toggle { margin: 20px 0; }
        .toggle { position: relative; display: inline-block; width: 60px; height: 34px; }
        .toggle input { opacity: 0; width: 0; height: 0; }
        .toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; transition: .4s; border-radius: 34px; }
        .toggle-slider:before { position: absolute; content: ""; height: 26px; width: 26px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .toggle-slider { background-color: #10b981; }
        input:checked + .toggle-slider:before { transform: translateX(26px); }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ’° BYOC Savings Calculator</h1>
        <p>See how much you'll save with SiloWorker's Bring Your Own Credentials pricing vs Zapier</p>
    </div>

    <div class="calculator">
        <div class="slider-group">
            <label class="slider-label">Monthly Workflow Runs: <span id="runs-value" class="slider-value">5,000</span></label>
            <input type="range" min="200" max="100000" value="5000" class="slider" id="runs-slider">
        </div>

        <div class="slider-group">
            <label class="slider-label">Monthly Emails: <span id="emails-value" class="slider-value">2,000</span></label>
            <input type="range" min="0" max="50000" value="2000" class="slider" id="emails-slider">
        </div>

        <div class="slider-group">
            <label class="slider-label">Monthly SMS: <span id="sms-value" class="slider-value">500</span></label>
            <input type="range" min="0" max="10000" value="500" class="slider" id="sms-slider">
        </div>

        <div class="byoc-toggle">
            <label class="toggle">
                <input type="checkbox" id="byoc-toggle" checked>
                <span class="toggle-slider"></span>
            </label>
            <span style="margin-left: 10px; font-weight: 600;">Use BYOC (Bring Your Own Credentials)</span>
        </div>
    </div>

    <div class="comparison">
        <div class="pricing-card zapier-card">
            <h3>Zapier Professional</h3>
            <div class="price zapier-price">$<span id="zapier-total">49</span>/mo</div>
            <div class="breakdown" id="zapier-breakdown">
                <div>Base Plan: $49/month</div>
                <div>Email overages: $0/month</div>
                <div>SMS overages: $0/month</div>
            </div>
        </div>

        <div class="pricing-card siloworker-card">
            <h3>SiloWorker + BYOC</h3>
            <div class="price siloworker-price">$<span id="siloworker-total">19</span>/mo</div>
            <div class="breakdown" id="siloworker-breakdown">
                <div>Starter Plan: $19/month</div>
                <div>SendGrid (your key): $0/month</div>
                <div>Twilio (your key): $0/month</div>
            </div>
        </div>
    </div>

    <div class="savings">
        <div>ðŸ’¸ You Save</div>
        <div class="savings-amount">$<span id="monthly-savings">30</span>/month</div>
        <div style="font-size: 1.2em; margin: 10px 0;">
            <span id="savings-percentage">61%</span> savings = $<span id="yearly-savings">360</span>/year
        </div>
        <div style="margin-top: 20px;">
            <button class="share-btn" onclick="shareResults()">ðŸ“¤ Share My Savings</button>
            <button class="share-btn" onclick="copyLink()">ðŸ”— Copy Link</button>
        </div>
    </div>

    <div style="background: white; border-radius: 12px; padding: 30px; margin: 30px 0;">
        <h2>Why BYOC Saves You Money</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
            <div style="padding: 20px; background: #f0f9ff; border-radius: 8px;">
                <h3>ðŸ“§ SendGrid</h3>
                <p>Zapier charges $0.002 per email. With your SendGrid key, first 100 emails/day are free, then $0.0006 per email.</p>
            </div>
            <div style="padding: 20px; background: #f0f9ff; border-radius: 8px;">
                <h3>ðŸ“± Twilio</h3>
                <p>Zapier charges $0.05 per SMS. With your Twilio account, SMS costs $0.0075 per message.</p>
            </div>
            <div style="padding: 20px; background: #f0f9ff; border-radius: 8px;">
                <h3>ðŸ”§ Your Data</h3>
                <p>BYOC means your data stays in your accounts. Better security, compliance, and cost control.</p>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin: 40px 0;">
        <h2>Ready to start saving?</h2>
        <p>
            <a href="https://siloworker.dev" style="background: #0366d6; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin-right: 20px;">Start Free Trial</a>
            <a href="/api/migrate-from-zapier" style="color: #0366d6; text-decoration: none; font-weight: 500;">Migration Guide â†’</a>
        </p>
    </div>

    <script>
        const runsSlider = document.getElementById('runs-slider');
        const emailsSlider = document.getElementById('emails-slider');
        const smsSlider = document.getElementById('sms-slider');
        const byocToggle = document.getElementById('byoc-toggle');

        function formatNumber(num) {
            if (num >= 1000) return (num / 1000).toFixed(0) + 'k';
            return num.toLocaleString();
        }

        function calculatePricing() {
            const runs = parseInt(runsSlider.value);
            const emails = parseInt(emailsSlider.value);
            const sms = parseInt(smsSlider.value);
            const useBYOC = byocToggle.checked;

            // Update display values
            document.getElementById('runs-value').textContent = formatNumber(runs);
            document.getElementById('emails-value').textContent = formatNumber(emails);
            document.getElementById('sms-value').textContent = formatNumber(sms);

            // Zapier pricing calculation
            let zapierBase = 49; // Professional plan
            if (runs > 20000) zapierBase = 99; // Team plan
            if (runs > 100000) zapierBase = 299; // Company plan

            const zapierEmailOverage = Math.max(0, emails - 1000) * 0.002;
            const zapierSMSOverage = Math.max(0, sms - 100) * 0.05;
            const zapierTotal = zapierBase + zapierEmailOverage + zapierSMSOverage;

            // SiloWorker pricing calculation
            let siloworkerBase = 19; // Starter
            if (runs > 5000) siloworkerBase = 49; // Pro
            if (runs > 50000) siloworkerBase = 199; // Scale

            let siloworkerEmailCost = 0;
            let siloworkerSMSCost = 0;

            if (!useBYOC) {
                siloworkerEmailCost = Math.max(0, emails - (siloworkerBase === 19 ? 1000 : siloworkerBase === 49 ? 10000 : 100000)) * 0.001;
                siloworkerSMSCost = Math.max(0, sms - (siloworkerBase === 19 ? 500 : siloworkerBase === 49 ? 5000 : 50000)) * 0.02;
            }

            const siloworkerTotal = siloworkerBase + siloworkerEmailCost + siloworkerSMSCost;

            // Update UI
            document.getElementById('zapier-total').textContent = Math.round(zapierTotal);
            document.getElementById('siloworker-total').textContent = Math.round(siloworkerTotal);

            document.getElementById('zapier-breakdown').innerHTML = `
                <div>Base Plan: $${zapierBase}/month</div>
                <div>Email overages: $${Math.round(zapierEmailOverage)}/month</div>
                <div>SMS overages: $${Math.round(zapierSMSOverage)}/month</div>
            `;

            document.getElementById('siloworker-breakdown').innerHTML = `
                <div>${siloworkerBase === 19 ? 'Starter' : siloworkerBase === 49 ? 'Pro' : 'Scale'} Plan: $${siloworkerBase}/month</div>
                <div>SendGrid ${useBYOC ? '(your key)' : '(platform)'}: $${Math.round(siloworkerEmailCost)}/month</div>
                <div>Twilio ${useBYOC ? '(your key)' : '(platform)'}: $${Math.round(siloworkerSMSCost)}/month</div>
            `;

            const monthlySavings = Math.max(0, zapierTotal - siloworkerTotal);
            const savingsPercentage = zapierTotal > 0 ? Math.round((monthlySavings / zapierTotal) * 100) : 0;
            const yearlySavings = monthlySavings * 12;

            document.getElementById('monthly-savings').textContent = Math.round(monthlySavings);
            document.getElementById('savings-percentage').textContent = savingsPercentage;
            document.getElementById('yearly-savings').textContent = Math.round(yearlySavings);

            // Update URL for sharing
            const url = new URL(window.location);
            url.searchParams.set('runs', runs);
            url.searchParams.set('emails', emails);
            url.searchParams.set('sms', sms);
            url.searchParams.set('byoc', useBYOC);
            window.history.replaceState({}, '', url);
        }

        function shareResults() {
            const savings = document.getElementById('monthly-savings').textContent;
            const percentage = document.getElementById('savings-percentage').textContent;
            const text = `I'd save $${savings}/month (${percentage}%) switching from Zapier to SiloWorker with BYOC! ðŸ’°`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'SiloWorker BYOC Savings',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text + ' ' + window.location.href);
                alert('Savings shared to clipboard!');
            }
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href);
            alert('Link copied to clipboard!');
        }

        // Load URL parameters
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('runs')) runsSlider.value = urlParams.get('runs');
        if (urlParams.get('emails')) emailsSlider.value = urlParams.get('emails');
        if (urlParams.get('sms')) smsSlider.value = urlParams.get('sms');
        if (urlParams.get('byoc') === 'false') byocToggle.checked = false;

        // Event listeners
        runsSlider.addEventListener('input', calculatePricing);
        emailsSlider.addEventListener('input', calculatePricing);
        smsSlider.addEventListener('input', calculatePricing);
        byocToggle.addEventListener('change', calculatePricing);

        // Initial calculation
        calculatePricing();
    </script>
</body>
</html>
